{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n    form: document.querySelector('#form'),\n    input: document.querySelector('.input'),\n    container: document.querySelector('.container'),\n}\n\nrefs.form.addEventListener('submit', (event) => {\n    event.preventDefault();\n    \n    const form = event.currentTarget;\n    const query = form.elements.query.value;\n\n    getPhotos(query).then(handlePhotos).catch(onFetchError).finally(() => form.reset());\n\n})\n    \nconst API_KEY = \"42114323-50c2b50fedad4076dc7ba42b5\";\nconst BASE_URL = \"https://pixabay.com/api\"; \n\n\nfunction getPixabayPhotoUrl(query) {\n    return `${BASE_URL}?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true&q=${query}` \n}\n\nfunction getPhotos(query) {\n    const url = getPixabayPhotoUrl(query);\n    return fetch(url).then((resp) => {\n        if (!resp.ok) {\n            throw new Error(resp.statusText);\n        }\n        return resp.json();\n    }\n    ).then(({ hits }) => hits);\n}\n\nfunction onFetchError() {\n    iziToast.error({\n    title: 'Sorry, something went wrong.',\n});\n}\n\nfunction onEmptyResults() {\n    iziToast.error({\n        title: 'Sorry, there are no images matching your search query. Please try again!',\n    })\n}\n\nfunction handlePhotos(photos) {\n    if (photos.length === 0) {\n        return onEmptyResults();\n    } \n\n    renderPhotos(photos);\n}\n\nfunction renderPhotos(photos) {\n  const photosHtml =  photos.map((photo) => \n        getPhotoHtml(photo)\n    ).join(\" \")\n\n    refs.container.innerHTML(photosHtml)\n}\n\nfunction getPhotoHtml({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `\n    <div>\n    <img src=\"${webformatURL}\" alt=\"${tags}\">\n<ul>\n<li>\n<span>Likes</span><br>\n<span>${likes}</span>\n</li>\n<li>\n<span>Views</span><br>\n<span>${views}</span>\n</li>\n<li>\n<span>Comments</span><br>\n<span>${comments}</span>\n</li>\n<li>\n<span>Downloads</span><br>\n<span>${downloads}</span>\n</li>\n</ul>\n    </div>\n    `\n}"],"names":["refs","event","form","query","getPhotos","handlePhotos","onFetchError","API_KEY","BASE_URL","getPixabayPhotoUrl","url","resp","hits","iziToast","onEmptyResults","photos","renderPhotos","photosHtml","photo","getPhotoHtml","webformatURL","largeImageURL","tags","likes","views","comments","downloads"],"mappings":"svBAGA,MAAMA,EAAO,CACT,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,QAAQ,EACtC,UAAW,SAAS,cAAc,YAAY,CAClD,EAEAA,EAAK,KAAK,iBAAiB,SAAWC,GAAU,CAC5CA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAQD,EAAK,SAAS,MAAM,MAElCE,EAAUD,CAAK,EAAE,KAAKE,CAAY,EAAE,MAAMC,CAAY,EAAE,QAAQ,IAAMJ,EAAK,MAAO,CAAA,CAEtF,CAAC,EAED,MAAMK,EAAU,qCACVC,EAAW,0BAGjB,SAASC,EAAmBN,EAAO,CAC/B,MAAO,GAAGK,SAAgBD,+DAAqEJ,GACnG,CAEA,SAASC,EAAUD,EAAO,CACtB,MAAMO,EAAMD,EAAmBN,CAAK,EACpC,OAAO,MAAMO,CAAG,EAAE,KAAMC,GAAS,CAC7B,GAAI,CAACA,EAAK,GACN,MAAM,IAAI,MAAMA,EAAK,UAAU,EAEnC,OAAOA,EAAK,MACf,CACA,EAAC,KAAK,CAAC,CAAE,KAAAC,CAAM,IAAKA,CAAI,CAC7B,CAEA,SAASN,GAAe,CACpBO,EAAS,MAAM,CACf,MAAO,8BACX,CAAC,CACD,CAEA,SAASC,GAAiB,CACtBD,EAAS,MAAM,CACX,MAAO,0EACf,CAAK,CACL,CAEA,SAASR,EAAaU,EAAQ,CAC1B,GAAIA,EAAO,SAAW,EAClB,OAAOD,EAAc,EAGzBE,EAAaD,CAAM,CACvB,CAEA,SAASC,EAAaD,EAAQ,CAC5B,MAAME,EAAcF,EAAO,IAAKG,GAC1BC,EAAaD,CAAK,CAC1B,EAAM,KAAK,GAAG,EAEVlB,EAAK,UAAU,UAAUiB,CAAU,CACvC,CAEA,SAASE,EAAa,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CAC1F,MAAO;AAAA;AAAA,gBAEKN,WAAsBE;AAAA;AAAA;AAAA;AAAA,QAI9BC;AAAA;AAAA;AAAA;AAAA,QAIAC;AAAA;AAAA;AAAA;AAAA,QAIAC;AAAA;AAAA;AAAA;AAAA,QAIAC;AAAA;AAAA;AAAA;AAAA,KAKR"}